# C语言程序设计现代方法——第二版

## C语言概述

### 好的习惯

1. 声明和语句之间留一个空行

2. `float`型常量赋值时最好加一个f（代表float）

   ```c
     float x;
     x = 205.36f;
   ```


3. 运算符前后放个空格
4. 逗号后面放个空格
5. 缩进
6. 利用空行划分逻辑单元
7. 空语句单独放在一行
8. 无线循环用`for( ; ; )`

### 一些注意点

1. 没有默认值并且尚未在程序中被赋值的变量是未初始化的
2. C标准里面，编译器必须用一个空格字符替换每条注释语句
3. **switch**语句分支顺序没要求，比如**default**语句可以不放在最后

## C语言基本概念

### 编译和链接

1. **预处理**
   + 执行**#**号开头的命令（称为指令）

2. 编译

3. 链接

### 注释

```c
// 盒型注释

/********************************************
 * 程序名
 * 功能
 * 作者
 ********************************************/

// 简单版

/*
 * 程序名
 * 功能
 * 作者
 */
```



运算时`float`型变量比`int`型慢

### 变量显示

`%.pf` 显示小数点后p位数字

`%m.pX` 

- m指明了要占用的最少字符数量（少的补齐，多的就按原样来）
- p指明了小数点后占几位

### 宏定义

定义常量，定义表达式

```c
// 宏名字一般大家都大写，单词之间是下划线，约定俗成
#define PI 3.1415926f

// 宏包括运算符时，必须把表达式用括号括起来
#Ddefine RECIPROCAL_OF_PI (1.0f / 3.1415926f)

```

### GCC常用

```c
-Wall  // 检查可能的错误并生成警告信息
-std=c89  // 指明编译器版本
```

## 格式化输入输出

注意点：

1. &符号创建一个指向变量的指针
2. 在寻找数的起始位置的时候，scanf函数会忽略**空白字符**（空格，制表符，换行，换页）

## 表达式

## 选择语句

`&&`和`||`是短路运算

### C99中的布尔值

1. **_Bool型**

   ```c
   _Bool flag;
   ```

   - 无符号整型
   - 只能赋值为 0 或者 1
   - 赋非 0 值最终结果都为1

2. **<stdbool.h>**

   1. bool flag;
   2. 提供了两个宏，**true**和**false**，分别代表 1 和 0

## 循环

注意点：

1. for 语句可以声明多个变量，只要类型相同

   ```c
   for(int i=0, j=0; i<n; i++)
   ```

### 逗号表达式

表达式1，表达式2

- 逗号表达式的值是表达式2的值
- 用于宏定义，for语句

### goto语句

标识符： 语句

goto 标识符

- 可以用于循环嵌套语句的跳出

  ```c
  for(; ; ){
      for(; ; ){
          ...
          goto loop_done;
      }
  }
  loop_done: ...
  ```

## **数据类型**

**强制类型转换：**

- **缩窄数据类型需要强制转换**，拓宽数据类型不需要（隐式转换）

### 整型

int  short  long

